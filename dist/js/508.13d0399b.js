"use strict";(self["webpackChunknetease_cloud_player"]=self["webpackChunknetease_cloud_player"]||[]).push([[508],{1926:function(t,e,s){s.d(e,{Z:function(){return r}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"sub-tabs"},t._l(t.sourceData.list,(function(e,i){return s("li",{key:"tabs"+i,on:{click:function(s){return t.tabsChange(e.title)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tabsChecked,expression:"tabsChecked"}],attrs:{type:"radio",id:e.id,name:t.sourceData.name},domProps:{value:e.title,checked:t._q(t.tabsChecked,e.title)},on:{change:function(s){t.tabsChecked=e.title}}}),s("label",{attrs:{for:e.id}},[t._v(t._s(e.title))])])})),0)},n=[],a={name:"SubTabs",data(){return{tabsChecked:""}},props:["sourceData"],mounted(){this.tabsChecked=this.$props.sourceData.checked},methods:{tabsChange(t){this.$emit("change",t)}}},c=a,l=s(1001),o=(0,l.Z)(c,i,n,!1,null,"3540476e",null),r=o.exports},4508:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{attrs:{id:"home"}},[i("section",{staticClass:"section-common"},[t._m(0),i("ul",{staticClass:"section-newSong-list"},t._l(t.listData.newsong,(function(e){return i("li",{key:e.id},[i("figure",[i("img",{attrs:{src:e.picUrl,alt:""}}),i("div",{staticClass:"section-newSong-desc"},[i("p",[t._v(t._s(e.name))]),i("p",[t._v(t._s(e.desc2))])])])])})),0)]),t._l(t.sectionScreen,(function(e,n){return i("section",{key:"section-"+n,staticClass:"section-common"},[i("div",{staticClass:"section-common-title"},[i("div",[i("p",[t._v(t._s(e.subTitle))]),i("h2",[t._v(t._s(e.title))])]),t._m(1,!0)]),i("ul",{staticClass:"section-common-list"},t._l(t.listData[e.li.source],(function(a,c){return i("li",{key:n+"-"+c,class:""+e.li.class,on:{click:function(s){return t.toPlaylistDetail(e.query,a.payload)}}},[i("figure",[i("span",[i("img",{attrs:{src:s(2564),alt:"","data-source-src":a.picUrl,"data-img-class":e.id}})]),i("p",[t._v(t._s(a.name))]),i("p",[t._v(" "+t._s(a.desc1)+" "+t._s(a.desc2?" "+e.li.join+" ":"")+" "+t._s(a.desc2||"")+" ")])])])})),0)])})),i("section",{staticClass:"section-common"},[i("div",{staticClass:"section-common-title sub-title"},[t._m(2),i("div",[i("SubTabs",{attrs:{sourceData:t.config.dj.djTabsData},on:{change:t.subTabsChange}})],1)]),i("ul",{staticClass:"section-common-list"},t._l(t.listData.dj,(function(e){return i("li",{key:e.id},["推荐"===t.config.dj.type?i("figure",[i("span",[i("img",{attrs:{"data-source-src":e.picUrl,src:s(2564),alt:""}})]),i("p",[t._v(t._s(e.name))]),i("p",[t._v(t._s(e.lastProgramName))])]):"热门"===t.config.dj.type?i("figure",[i("span",[i("img",{attrs:{src:e.picUrl,alt:""}})]),i("p",[t._v(t._s(e.name))]),i("p",[t._v(t._s(e.copywriter))])]):"新晋热榜"===t.config.dj.type?i("figure",[i("span",[i("img",{attrs:{src:e.picUrl,alt:""}})]),i("p",[t._v(t._s(e.name))]),i("p",[t._v(t._s(e.rcmdtext))])]):"最热主播"===t.config.dj.type?i("figure",[i("span",[i("img",{attrs:{src:e.avatarUrl,alt:""}})]),i("p",[t._v(t._s(e.nickName))])]):t._e()])})),0)])],2)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section-common-title"},[s("div",[s("p",[t._v("为你准备的新曲")]),s("h2",[t._v("专属推荐")])]),s("div",[s("a",{attrs:{href:"#"}},[t._v("查看更多")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{attrs:{href:"#"}},[t._v("查看更多")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("电台")])])}],a=s(1926),c=s(4665),l={name:"HomeView",components:{SubTabs:a.Z},data(){return{sectionData:[{id:"section-tuijian",title:"为你推荐",subTitle:"挑选歌曲，开始收听电台",moreUrl:"",query:"playlist",li:{class:"section-common-item",source:"recommends",join:"•"}},{id:"section-geshou",title:"热门歌手",subTitle:null,query:"artist",moreUrl:"",li:{class:"section-common-item posterRound",source:"hotArtists",join:"•"}},{id:"section-zuijinbofang",title:"最近播放",subTitle:null,moreUrl:"",query:"",li:{class:"section-common-item",source:"records",join:"-"}},{id:"section-mv",title:"推荐的MV",subTitle:null,moreUrl:"",query:"",li:{class:"section-mv-item",source:"recommendMv",join:"•"}},{id:"section-shequ",title:"社区精选",subTitle:null,moreUrl:"",query:"playlist",li:{class:"section-common-item",source:"community",join:"•"}}],config:{dj:{type:"推荐",api:{"热门":{url:"/dj/hot?limit=6",key:["djRadios"]},"推荐":{url:"/dj/personalize/recommend?limit=6",key:["data"]},"新晋热榜":{url:"/dj/toplist?type=new&limit=6",key:["toplist"]},"最热主播":{url:"/dj/toplist/popular?limit=6",key:["data","list"]}},djTabsData:{name:"dj",checked:"推荐",list:[{id:"dj-tabs-tj",title:"推荐"},{id:"dj-tabs-rm",title:"热门"},{id:"dj-tabs-xj",title:"新晋热榜"},{id:"dj-tabs-zb",title:"最热主播"}]}}},listData:{dj:[],hotArtists:[],community:[],recommends:[],records:[],newsong:[],recommendMv:[]}}},methods:{...(0,c.nv)(["getHotArtists","getCommunity","getRecommend","getRecords","getNewsong","getMv"]),...(0,c.OI)(["setLoading"]),subTabsChange(t){this.config.dj.type=t;const e=this.config.dj.api[t];fetch(`http://localhost:3000${e.url}`).then((t=>{t.json().then((t=>{let s=t;e.key.forEach((t=>s=s[t])),this.listData.dj=s}))}))},toPlaylistDetail(t,e){t&&e?this.$router.push({name:t,query:{id:e}}):console.log("toPlaylistDetail",t,e)}},created(){this.setLoading(!0)},mounted(){this.subTabsChange("推荐"),Promise.all([this.getCommunity(),this.getRecommend(),this.getNewsong(),this.getMv(),this.getHotArtists()]).then((t=>{t.forEach((t=>{this.listData[t.type]=t.data}));const e=new IntersectionObserver((t=>{t.forEach((t=>{t.intersectionRatio>0&&(t.target.src=t.target.getAttribute("data-source-src"),e.unobserve(t.target))}))}));this.$nextTick((()=>{this.setLoading(!1),document.querySelectorAll(".section-common-list img").forEach((t=>e.observe(t)))}))}))},computed:{sectionScreen(){return this.sectionData.filter((t=>this.listData[t.li.source].length>0))}}},o=l,r=s(1001),u=(0,r.Z)(o,i,n,!1,null,"7d1d21a4",null),m=u.exports},2564:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAYAAACuwEE+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEk0AABJNAfOXxKcAAAFqSURBVHhe7cixDcAwAMOw/P90mgPkoTsFcNF5XfghJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQnh3A82J0fl/sMqgQAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=508.13d0399b.js.map