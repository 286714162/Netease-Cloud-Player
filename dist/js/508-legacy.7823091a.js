(self["webpackChunknetease_cloud_player"]=self["webpackChunknetease_cloud_player"]||[]).push([[508],{1926:function(t,e,s){"use strict";s.d(e,{Z:function(){return l}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"sub-tabs"},t._l(t.sourceData.list,(function(e,n){return s("li",{key:"tabs"+n,on:{click:function(s){return t.tabsChange(e.title)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tabsChecked,expression:"tabsChecked"}],attrs:{type:"radio",id:e.id,name:t.sourceData.name},domProps:{value:e.title,checked:t._q(t.tabsChecked,e.title)},on:{change:function(s){t.tabsChecked=e.title}}}),s("label",{attrs:{for:e.id}},[t._v(t._s(e.title))])])})),0)},i=[],c={name:"SubTabs",data:function(){return{tabsChecked:""}},props:["sourceData"],mounted:function(){this.tabsChecked=this.$props.sourceData.checked},methods:{tabsChange:function(t){this.$emit("change",t)}}},r=c,o=s(1001),a=(0,o.Z)(r,n,i,!1,null,"3540476e",null),l=a.exports},4508:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return d}});var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"home"}},[n("section",{staticClass:"section-common"},[t._m(0),n("ul",{staticClass:"section-newSong-list"},t._l(t.listData.newsong,(function(e){return n("li",{key:e.id},[n("figure",[n("img",{attrs:{src:e.picUrl,alt:""}}),n("div",{staticClass:"section-newSong-desc"},[n("p",[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.desc2))])])])])})),0)]),t._l(t.sectionScreen,(function(e,i){return n("section",{key:"section-"+i,staticClass:"section-common"},[n("div",{staticClass:"section-common-title"},[n("div",[n("p",[t._v(t._s(e.subTitle))]),n("h2",[t._v(t._s(e.title))])]),t._m(1,!0)]),n("ul",{staticClass:"section-common-list"},t._l(t.listData[e.li.source],(function(c,r){return n("li",{key:i+"-"+r,class:""+e.li.class,on:{click:function(s){return t.toPlaylistDetail(e.query,c.payload)}}},[n("figure",[n("span",[n("img",{attrs:{src:s(2564),alt:"","data-source-src":c.picUrl,"data-img-class":e.id}})]),n("p",[t._v(t._s(c.name))]),n("p",[t._v(" "+t._s(c.desc1)+" "+t._s(c.desc2?" "+e.li.join+" ":"")+" "+t._s(c.desc2||"")+" ")])])])})),0)])})),n("section",{staticClass:"section-common"},[n("div",{staticClass:"section-common-title sub-title"},[t._m(2),n("div",[n("SubTabs",{attrs:{sourceData:t.config.dj.djTabsData},on:{change:t.subTabsChange}})],1)]),n("ul",{staticClass:"section-common-list"},t._l(t.listData.dj,(function(e){return n("li",{key:e.id},["推荐"===t.config.dj.type?n("figure",[n("span",[n("img",{attrs:{"data-source-src":e.picUrl,src:s(2564),alt:""}})]),n("p",[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.lastProgramName))])]):"热门"===t.config.dj.type?n("figure",[n("span",[n("img",{attrs:{src:e.picUrl,alt:""}})]),n("p",[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.copywriter))])]):"新晋热榜"===t.config.dj.type?n("figure",[n("span",[n("img",{attrs:{src:e.picUrl,alt:""}})]),n("p",[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.rcmdtext))])]):"最热主播"===t.config.dj.type?n("figure",[n("span",[n("img",{attrs:{src:e.avatarUrl,alt:""}})]),n("p",[t._v(t._s(e.nickName))])]):t._e()])})),0)])],2)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section-common-title"},[s("div",[s("p",[t._v("为你准备的新曲")]),s("h2",[t._v("专属推荐")])]),s("div",[s("a",{attrs:{href:"#"}},[t._v("查看更多")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{attrs:{href:"#"}},[t._v("查看更多")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("电台")])])}],c=s(3019),r=(s(1539),s(4747),s(8783),s(3948),s(7327),s(1926)),o=s(4665),a={name:"HomeView",components:{SubTabs:r.Z},data:function(){return{sectionData:[{id:"section-tuijian",title:"为你推荐",subTitle:"挑选歌曲，开始收听电台",moreUrl:"",query:"playlist",li:{class:"section-common-item",source:"recommends",join:"•"}},{id:"section-geshou",title:"热门歌手",subTitle:null,query:"artist",moreUrl:"",li:{class:"section-common-item posterRound",source:"hotArtists",join:"•"}},{id:"section-zuijinbofang",title:"最近播放",subTitle:null,moreUrl:"",query:"",li:{class:"section-common-item",source:"records",join:"-"}},{id:"section-mv",title:"推荐的MV",subTitle:null,moreUrl:"",query:"",li:{class:"section-mv-item",source:"recommendMv",join:"•"}},{id:"section-shequ",title:"社区精选",subTitle:null,moreUrl:"",query:"playlist",li:{class:"section-common-item",source:"community",join:"•"}}],config:{dj:{type:"推荐",api:{"热门":{url:"/dj/hot?limit=6",key:["djRadios"]},"推荐":{url:"/dj/personalize/recommend?limit=6",key:["data"]},"新晋热榜":{url:"/dj/toplist?type=new&limit=6",key:["toplist"]},"最热主播":{url:"/dj/toplist/popular?limit=6",key:["data","list"]}},djTabsData:{name:"dj",checked:"推荐",list:[{id:"dj-tabs-tj",title:"推荐"},{id:"dj-tabs-rm",title:"热门"},{id:"dj-tabs-xj",title:"新晋热榜"},{id:"dj-tabs-zb",title:"最热主播"}]}}},listData:{dj:[],hotArtists:[],community:[],recommends:[],records:[],newsong:[],recommendMv:[]}}},methods:(0,c.Z)((0,c.Z)((0,c.Z)({},(0,o.nv)(["getHotArtists","getCommunity","getRecommend","getRecords","getNewsong","getMv"])),(0,o.OI)(["setLoading"])),{},{subTabsChange:function(t){var e=this;this.config.dj.type=t;var s=this.config.dj.api[t];fetch("http://localhost:3000".concat(s.url)).then((function(t){t.json().then((function(t){var n=t;s.key.forEach((function(t){return n=n[t]})),e.listData.dj=n}))}))},toPlaylistDetail:function(t,e){t&&e?this.$router.push({name:t,query:{id:e}}):console.log("toPlaylistDetail",t,e)}}),created:function(){this.setLoading(!0)},mounted:function(){var t=this;this.subTabsChange("推荐"),Promise.all([this.getCommunity(),this.getRecommend(),this.getNewsong(),this.getMv(),this.getHotArtists()]).then((function(e){e.forEach((function(e){t.listData[e.type]=e.data}));var s=new IntersectionObserver((function(t){t.forEach((function(t){t.intersectionRatio>0&&(t.target.src=t.target.getAttribute("data-source-src"),s.unobserve(t.target))}))}));t.$nextTick((function(){t.setLoading(!1),document.querySelectorAll(".section-common-list img").forEach((function(t){return s.observe(t)}))}))}))},computed:{sectionScreen:function(){var t=this;return this.sectionData.filter((function(e){return t.listData[e.li.source].length>0}))}}},l=a,u=s(1001),m=(0,u.Z)(l,n,i,!1,null,"7d1d21a4",null),d=m.exports},9337:function(t,e,s){var n=s(2109),i=s(9781),c=s(3887),r=s(5656),o=s(1236),a=s(6135);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,s,n=r(t),i=o.f,l=c(n),u={},m=0;while(l.length>m)s=i(n,e=l[m++]),void 0!==s&&a(u,e,s);return u}})},2564:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAYAAACuwEE+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEk0AABJNAfOXxKcAAAFqSURBVHhe7cixDcAwAMOw/P90mgPkoTsFcNF5XfghJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQlLTlhywpITlpyw5IQlJyw5YckJS05YcsKSE5acsOSEJScsOWHJCUtOWHLCkhOWnLDkhCUnLDlhyQnh3A82J0fl/sMqgQAAAABJRU5ErkJggg=="},3019:function(t,e,s){"use strict";s.d(e,{Z:function(){return c}});s(7941),s(2526),s(7327),s(1539),s(5003),s(4747),s(9337);function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function i(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?i(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}}}]);
//# sourceMappingURL=508-legacy.7823091a.js.map